<% content_for(:title, "TOP") %>

<%# ページ案内 ------------------ %>
<section>
  <h1 class="mt-2 my-2 text-xl font-bold w-full text-center">TOP / 旅行一覧</h1>
</section>

<%# メインコンテンツ ------------------------------------ %>
<section class="w-full flex flex-col flex-1 min-h-0 overflow-y-auto">
  <div class="flex-1 mx-4">

    <%# 検索フィールド ------------------ %>
    <%= render 'search_form' %>
        
    <%# 旅行カード ------------------ %>
    <% if @user_trips.present? %>
    <%# 旅行あれば表示 %>
      <div class="flex-1 flex flex-col gap-4 pb-2">
          <% @trips.each do |trip|%>
            <%= link_to trip_path(trip), data:{ controller:"back", action:"click->back#storeFromPage", "back-return-to-value": "trip-index" } do %>
              <%= render 'trip_card', trip: trip, mode: :index %>
            <% end %>
          <% end %>
      </div>
    <% else %>
    <%# なければ画像表示 %>
      <div class="flex-1 min-h-0 pt-30">
        <img class="h-4/5 object-contain mx-auto items-center" src="welcome.png" alt="" draggable="false">
      </div>
    <% end %>
  </div>
</section>

<%# 仕切り線とボタン ------------------ %>
<section class="mx-4 my-3">
  <div class="separator"></div>
  <div class="w-full flex gap-4">
    <%= link_to "旅行記録を作成", new_trip_path , class:"flex-1 main-action-btn bg-action-yellow text-neutral-700", data:{ controller:"back", action:"click->back#storeFromPage", "back-return-to-value": "trip-index"} %>
    <%= link_to "グループ", groups_path, class:"w-1/3 main-action-btn bg-panel-navy text-white" %>  
  </div>
</section>